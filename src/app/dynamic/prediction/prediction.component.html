<div class="container">
  <h2>Predicted Sales</h2>

  <div *ngIf="predictedSales">
    <p *ngIf="isHighSales; else lowSalesMessage">The predicted sales are high!</p>
    <ng-template #lowSalesMessage><p>The predicted sales are not high.</p></ng-template>

    <ul>
      <li *ngFor="let sale of predictedSales">{{ sale }}</li>
      <button (click)="predictAndCheckHighSales()">Predict and Check High Sales</button>

    </ul>
  </div>
</div>
<!-- <h1>predictions</h1>

<div *ngIf="(predictions$ | async) as predictions">
  <table>
    <thead>
      <tr>
        <th>Stock Name</th>
        <th>Prediction</th>
        <th>High Sales</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let prediction of predictions">
        <td>{{ prediction.stockName }}</td>
        <td>{{ prediction.prediction }}</td>
        <td>{{ prediction.isHighSales ? 'Yes' : 'No' }}</td>
      </tr>
    </tbody>
  </table>
</div> -->

<div *ngIf="errorMessage; else predictionsBlock">
  <p>Error: {{ errorMessage }}</p>
</div>

<ng-template #predictionsBlock>
  <div *ngIf="predictions.length > 0; else noPredictionsBlock">
    <h2>Predictions with High Sales</h2>
    <table>
      <thead>
        <tr>
          <th>Stock Name</th>
          <th>Prediction</th>
          <th>High Sales</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let prediction of predictions">
          <td>{{ prediction.stockName }}</td>
          <td>{{ prediction.prediction }}</td>
          <td>{{ prediction.isHighSales ? 'Predictions with High Sales' : 'Predictions with Low Sales' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <ng-template #noPredictionsBlock>
    <p>No predictions available.</p>
  </ng-template>
</ng-template>
